(this["webpackJsonpguitar-tuner"]=this["webpackJsonpguitar-tuner"]||[]).push([[0],{37:function(e,a,s){},38:function(e,a,s){},46:function(e,a,s){"use strict";s.r(a);var t=s(0),c=s.n(t),i=s(13),r=s.n(i),n=(s(37),s(5)),l=(s(38),s(45),s(71)),d=s(72),o=s(70),b=(s(6),s(25)),j=s(68),u=s(73),h=s(3),O=Object(j.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:b.a[500],position:"absolute",top:-5,left:-5,zIndex:1},disabledUntunedFab:{background:"linear-gradient(#999999, #999999)"},disabledTunedFab:{background:"linear-gradient(#4caf50, #4caf50)"}}}));var x=function(){var e=O(),a=Object(t.useState)(0),s=Object(n.a)(a,2),c=s[0],i=s[1],r=Object(t.useState)(0),b=Object(n.a)(r,2),j=b[0],x=b[1],f=Object(t.useState)(0),m=Object(n.a)(f,2),v=m[0],g=(m[1],Object(t.useState)(0)),p=Object(n.a)(g,2),w=p[0],N=p[1],S=Object(t.useState)(0),z=Object(n.a)(S,2),F=z[0],C=z[1],E=Object(t.useState)(!1),A=Object(n.a)(E,2),U=A[0],y=A[1],D=Object(t.useState)(!1),M=Object(n.a)(D,2),B=M[0],T=M[1],P=Object(t.useState)(!1),k=Object(n.a)(P,2),G=k[0],I=k[1],R=Object(t.useState)(!1),q=Object(n.a)(R,2),J=q[0],L=q[1],W=Object(t.useState)(!1),H=Object(n.a)(W,2),$=H[0],K=H[1],Q=Object(t.useState)(!1),V=Object(n.a)(Q,2),X=V[0],Y=V[1],Z=Object(t.useState)("E2"),_=Object(n.a)(Z,2),ee=_[0],ae=_[1],se=Object(t.useState)(0),te=Object(n.a)(se,2),ce=te[0],ie=te[1],re=Object(t.useState)(0),ne=Object(n.a)(re,2),le=ne[0],de=ne[1];function oe(e){return e.reduce((function(e,a,s,t){return a>t[e]?s:e}),0)}function be(e){var a=Math.log(e/440)/Math.log(2)*12;return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][(Math.round(a)+69)%12]}return Object(t.useEffect)((function(){if(ce>0){w.fftSize=32768;var e=w.fftSize,a=new Uint8Array(e);w.getByteFrequencyData(a);var s=oe(a)*(v.sampleRate/2/w.fftSize);i(s);var t=be(s);console.log("myNote: "+j),x(t),t===j&&t===ee.substring(0,1)?de((function(e){return e+1})):de((function(e){return e>1?e-1:0})),setTimeout((function(){ie((function(e){return e+1}))}),100)}}),[ce]),Object(t.useEffect)((function(){0!=F&&F.connect(w)}),[F]),Object(t.useEffect)((function(){if(0!==w&&navigator.mediaDevices.getUserMedia){console.log("Success");navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){C(v.createMediaStreamSource(e))})).catch((function(e){console.error("error: "+e)}))}}),[w]),Object(t.useEffect)((function(){0!==v&&N(v.createAnalyser())}),[v]),Object(t.useEffect)((function(){console.log("matchingNoteCount: "+le),le>=25&&("E2"==ee?(y(!0),ae("A2")):"A2"===ee?(T(!0),ae("D3")):"D3"===ee?(I(!0),ae("G3")):"G3"===ee?(L(!0),ae("B3")):"B3"===ee?(K(!0),ae("E4")):"E4"===ee&&Y(!0),de(0))}),[le]),Object(h.jsxs)("div",{className:"App",style:{height:"100vh"},children:[Object(h.jsx)("div",{className:"ChordsContainer",children:Object(h.jsx)("div",{className:"Chords",children:Object(h.jsxs)(o.a,{container:!0,spacing:1,children:[Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[U&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"E"})})}),!U&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"E"})}),"E2"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})}),Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[B&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"A"})})}),!B&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"A"})}),"A2"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})}),Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[G&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"D"})})}),!G&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"D"})}),"D3"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})}),Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[J&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"G"})})}),!J&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"G"})}),"G3"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})}),Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[$&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"B"})})}),!$&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"B"})}),"B3"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})}),Object(h.jsx)(o.a,{item:!0,xs:2,children:Object(h.jsxs)("div",{className:"Chord",children:[X&&Object(h.jsx)("div",{className:e.wrapper,children:Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledTunedFab},children:Object(h.jsx)("h2",{children:"E"})})}),!X&&Object(h.jsxs)("div",{className:e.wrapper,children:[Object(h.jsx)(d.a,{"aria-label":"save",size:"small",disabled:!0,classes:{root:e.disabledUntunedFab},children:Object(h.jsx)("h2",{children:"E"})}),"E4"===ee&&Object(h.jsx)(l.a,{size:50,className:e.fabProgress})]})]})})]})})}),Object(h.jsx)("h1",{children:j}),Object(h.jsxs)("h1",{children:[c," Hz"]}),Object(h.jsx)("button",{onClick:function(){console.log("Started");var e=new(window.AudioContext||window.webkitAudioContext),a=e.createAnalyser();if(navigator.mediaDevices.getUserMedia){console.log("getUserMedia supported.");navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.createMediaStreamSource(t).connect(a),s()})).catch((function(e){console.error("error: "+e)}))}else console.error("getUserMedia unsupported by browser");function s(){console.log(e.sampleRate),a.fftSize=32768;var t=a.fftSize,c=(new Float32Array(a.fftSize),new Uint8Array(t));!function(e,a,s){e.getByteFrequencyData(s);var t=oe(s)*(a.sampleRate/2/e.fftSize);i(t);var c=be(t);console.log("detectedNote: "+c),x((function(e){return c===e&&c===ee.substring(0,1)?de((function(e){return e+1})):de((function(e){return e>1?e-1:0})),c}))}(a,e,c),setTimeout(s,1e3)}},children:"Start"}),Object(h.jsx)(u.a,{variant:"determinate",value:4*le}),Object(h.jsx)("h1",{children:"3.0"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,75)).then((function(a){var s=a.getCLS,t=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;s(e),t(e),c(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),f()}},[[46,1,2]]]);
//# sourceMappingURL=main.c147bf61.chunk.js.map